{{!
  Copyright (c) HashiCorp, Inc.
}}

<Cut::ListItem
  @href={{@href}}
  @isRouteExternal={{@isRouteExternal}}
  @route={{@route}}
  @isHrefExternal={{@isHrefExternal}}
  @query={{@query}}
  @replace={{@replace}}
  @onClick={{@onClick}}
  data-test-service-ingress-gateway-list-item
  as |L|>
  <L.Content as |C|>
    <Cut::ListItem::Template as |T|>
      <T.Label as |LB|>
        <LB.Title data-test-service-name>{{@service.name}}</LB.Title>
        <LB.Metadata>
          {{#if this.isAllHealthy}}
            <Hds::Badge
              @color='success'
              @icon='check'
              @text='Healthy'
              @size="small"
              data-test-health-check-all-healthy
            />
          {{else}}
            <!--Instance health check-->
            {{#if @service.metadata.healthCheck.instance}}
              <Cut::Metadata::HealthCheckBadgeSet
                @successCount={{@service.metadata.healthCheck.instance.success}}
                @warningCount={{@service.metadata.healthCheck.instance.warning}}
                @criticalCount={{@service.metadata.healthCheck.instance.critical}}
                @type="instance"
              />
            {{/if}}
          {{/if}}

          {{#if @service.metadata.kindName}}
            <Cut::TextWithIcon @icon="gateway" @text={{@service.metadata.kindName}} data-test-service-kind />
          {{/if}}

          {{#if (not-eq @service.metadata.upstreamCount undefined)}}
            <!-- TODO: add translate with pluralize(CC-5314)-->
            <span data-test-associated-service-count>{{@service.metadata.upstreamCount}} upstreams</span>
          {{/if}}

          <Cut::Metadata::InServiceMesh
            @connectedWithGateway={{@service.metadata.connectedWithGateway}}
            @connectedWithProxy={{@service.metadata.connectedWithProxy}}
          />

          {{#if @service.metadata.externalSource}}
            <Cut::Metadata::ExternalSource @externalSource={{@service.metadata.externalSource}}/>
          {{/if}}

          {{#if @service.metadata.tags.length}}
            <Cut::Metadata::Tags @tags={{@service.metadata.tags}}/>
          {{/if}}
        </LB.Metadata>
      </T.Label>
    </Cut::ListItem::Template>
  </L.Content>
</Cut::ListItem>